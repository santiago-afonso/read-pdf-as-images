{"id":"read-pdf-3j3","title":"Install read-pdf CLI and add Codex skill","description":"User requested ensuring read-pdf is installed/invokable anywhere and adding a concise Codex skill for read-pdf usage.\n\nTest plan (minimal):\n- Run 'make install' and confirm 'command -v read-pdf' returns ~/.local/bin/read-pdf.\n- From /tmp, run 'read-pdf --help' and 'read-pdf --version'.\n- Confirm skill file exists at ~/.codex/skills/read-pdf/SKILL.md and is readable.","acceptance_criteria":"Running 'read-pdf --help' works from any directory (installed to ~/.local/bin via make install); a new skill exists at ~/.codex/skills/read-pdf/SKILL.md describing read-pdf modes/flags, output channels, TOC best-effort caveats, and suggested agent workflow.","notes":"Ran 'make install' (installed to ~/.local/bin/read-pdf + helpers); verified 'command -v read-pdf' and 'read-pdf --version' from /tmp. Added Codex v1 skill at ~/.codex/skills/read-pdf/SKILL.md and validated YAML frontmatter with yq.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T20:14:42.352977218-05:00","updated_at":"2025-12-15T20:23:46.543024349-05:00","closed_at":"2025-12-15T20:23:46.543036814-05:00"}
{"id":"read-pdf-vvg","title":"Add --toc flag for TOC/index extraction","description":"Add a --toc flag to read-pdf text mode to return only navigational sections (Table of Contents / Índice / Index / Lista de figuras/tablas, etc) detected via regex/heuristics over pymupdf4llm markdown.\n\nTest plan (minimal):\n- Generate a tiny PDF with a 'Table of Contents' page and confirm read-pdf \u003cpdf\u003e --toc includes that page and excludes body pages.\n- Repeat with Spanish heading 'Índice' / 'Tabla de contenidos'.\n- Verify read-pdf \u003cpdf\u003e (no --toc) output unchanged.","acceptance_criteria":"CLI supports standalone --toc mode: 'read-pdf \u003cpdf\u003e --toc' emits the same pseudo-XML wrapper as text mode (\u003cpdf-metadata\u003e + \u003cpdf-text\u003e) but with \u003cpdf-text\u003e containing only detected TOC/Index/List-style pages (English+Spanish), capped at 5 pages; output includes explicit best-effort disclaimer that regex/heuristics may miss the true TOC; if no matches are found, stdout is plain guidance text (no pseudo-XML) telling the agent to inspect full text or render images; existing modes unchanged.","notes":"Implemented --toc mode + TOC heuristics; ran bash -n scripts/read-pdf and python3 -m py_compile on helper scripts. Did not run full PDF integration since it requires uv+pymupdf4llm (network may be needed on first run).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T19:37:30.431857931-05:00","updated_at":"2025-12-15T20:07:10.255922176-05:00","closed_at":"2025-12-15T20:05:46.670266928-05:00"}
